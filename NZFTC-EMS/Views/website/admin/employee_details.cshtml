@using NZFTC_EMS.Data.Entities
@model Employee

@{
    Layout = "~/Views/Shared/_portal.cshtml";
    ViewData["Title"] = "Employee Details";
}

<link rel="stylesheet" href="~/css/employee.css" asp-append-version="true" />

<div class="page-container">

    <div class="header-row d-flex justify-content-between align-items-center mb-3">
        <h2 class="page-title fw-bold mb-0">Employee Details</h2>
    </div>

    <div class="card shadow-sm border-0 details-card mb-3">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">Employee #</dt>
                <dd class="col-sm-9">@Model.EmployeeCode</dd>

                <dt class="col-sm-3">Name</dt>
                <dd class="col-sm-9">@Model.FullName</dd>

                <dt class="col-sm-3">Email</dt>
                <dd class="col-sm-9">@Model.Email</dd>

                <dt class="col-sm-3">Phone</dt>
                <dd class="col-sm-9">@Model.Phone</dd>

                <dt class="col-sm-3">Address</dt>
                <dd class="col-sm-9">@Model.Address</dd>

                <dt class="col-sm-3">Access Role</dt>
                <dd class="col-sm-9">@Model.Role</dd>

                <dt class="col-sm-3">Department</dt>
                <dd class="col-sm-9">@Model.JobPosition?.Department</dd>

                <dt class="col-sm-3">Job Position</dt>
                <dd class="col-sm-9">@Model.JobPosition?.Name</dd>

                <dt class="col-sm-3">Pay Grade</dt>
                <dd class="col-sm-9">@Model.PayGrade?.Name</dd>

                <dt class="col-sm-3">Pay Frequency</dt>
                <dd class="col-sm-9">@Model.PayGrade?.RateType</dd>

                <dt class="col-sm-3">Basic Pay</dt>
                <dd class="col-sm-9">@Model.PayGrade?.BaseRate.ToString("C2")</dd>

                <dt class="col-sm-3">Emergency Contact</dt>
                <dd class="col-sm-9">
                    @if (Model.EmergencyContacts.Any())
                    {
                        var c = Model.EmergencyContacts.First();
                        @($"{c.FullName} ({c.Relationship}) – {c.Phone}")
                    }
                    else
                    {
                        @:—
                    }
                </dd>

                <dt class="col-sm-3">Birthday</dt>
                <dd class="col-sm-9">@Model.Birthday?.ToString("dd/MM/yyyy")</dd>

                <dt class="col-sm-3">Gender</dt>
                <dd class="col-sm-9">@Model.Gender</dd>

                <dt class="col-sm-3">Start Date</dt>
                <dd class="col-sm-9">@Model.StartDate.ToString("dd/MM/yyyy")</dd>

                <dt class="col-sm-3">Job Position Id</dt>
                <dd class="col-sm-9">@Model.JobPositionId</dd>

                <dt class="col-sm-3">Pay Grade Id</dt>
                <dd class="col-sm-9">@Model.PayGradeId</dd>
            </dl>
        </div>
    </div>

    <div class="mt-2">
        <a asp-controller="employee_management"
           asp-action="Edit"
           asp-route-id="@Model.EmployeeId"
           class="btn btn-primary">
            Edit
        </a>
        <a asp-controller="employee_management"
           asp-action="Index"
           class="btn btn-secondary ms-2">
            Back to List
        </a>
    </div>
</div>
